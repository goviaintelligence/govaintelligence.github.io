<!DOCTYPE HTML>
<!--
    GOVIA INTELLIGENCE - index.html
    Actualizado con Radar Chart que incluye leyendas y etiquetas ajustadas
-->
<html lang="es">
    <head>
        <title>GOVIA INTELLIGENCE</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
        <!-- CSS -->
        <link rel="stylesheet" href="assets/css/main.css" />
        <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
        <noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
        <!-- JavaScript Libraries -->
        <script src="https://d3js.org/d3.v7.min.js"></script>
        <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
        <script src="https://unpkg.com/isotope-layout@3/dist/isotope.pkgd.min.js"></script>
        <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
        <!-- Particles.js Library -->
        <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
        <style>
            /* Estilos para el fondo de partículas en los wrappers */
            .wrapper {
                position: relative;
                z-index: 1;
            }
            .wrapper::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                z-index: -1;
                background: transparent;
            }
            .particles-wrapper {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                z-index: -2;
            }
            #particles-js {
                width: 100%;
                height: 100%;
            }
            /* Estilos para "Powered by IA Generativa" */
            .powered-by-ia {
                position: absolute;
                top: 10px;
                left: 10px;
                font-size: 12px;
                color: rgb(212, 209, 209);
            }
            /* Estilos para el Radar Chart */
            #d3-graph-container {
                display: flex;
                justify-content: center;
                align-items: center;
                position: relative;
            }
            .tooltip {
                position: absolute;
                text-align: center;
                padding: 8px;
                font-size: 14px;
                background: rgba(0, 0, 0, 0.7);
                color: #fff;
                border-radius: 4px;
                pointer-events: none;
            }
            /* Estilos para la leyenda */
            .legend {
                font-size: 12px;
                font-weight: bold;
            }
            .legend rect {
                stroke-width: 0;
                stroke: #fff;
            }
        </style>
    </head>
    <body class="landing is-preload">
        <!-- Powered by IA Generativa -->
        <div class="powered-by-ia">
            <p>Powered by generative AI</p>
        </div>

        <!-- Page Wrapper -->
            <div id="page-wrapper">

                <!-- Header -->
                    <header id="header" class="alt">
                        <h1><a href="index.html">GOVIA INTELLIGENCE</a></h1>
                        <nav id="nav">
                            <ul>
                                <li class="special">
                                    <a href="#menu" class="menuToggle"><span>Menú</span></a>
                                    <div id="menu">
                                        <ul>
                                            <li><a href="index.html">Inicio</a></li>
                                            <li><a href="servicios.html">Servicios</a></li>
                                            <li><a href="portfolio.html">Portfolio</a></li>
                                            <li><a href="contacto.html">Contacto</a></li>
                                        </ul>
                                    </div>
                                </li>
                            </ul>
                        </nav>
                    </header>

                <!-- Banner -->
                    <section id="banner" class="wrapper" data-aos="fade-up">
                        <div class="particles-wrapper">
                            <div id="particles-js"></div>
                        </div>
                        <div class="inner">
                            <h2 data-aos="fade-down">GOVIA INTELLIGENCE</h2>
                            <p data-aos="fade-up">Potenciamos tu crecimiento en el sector público y privado<br />
                            con Business Intelligence <br />
                            y soluciones de Inteligencia Artificial.</p>
                            <ul class="actions special">
                                <li><a href="#contacto" class="button primary">Contáctanos</a></li>
                            </ul>
                        </div>
                        <a href="#one" class="more scrolly">Sobre nosotros</a>
                    </section>

                <!-- One -->
                    <section id="one" class="wrapper style1 special" data-aos="fade-up">
                        <div class="inner">
                            <header class="major">
                                <h2>Expertos en Datos y Tecnología<br />
                                    para el Sector Público y Privado</h2>
                                <p>En GOVIA INTELLIGENCE, combinamos nuestra experiencia en Business Intelligence y aplicaciones de Inteligencia Artificial para ofrecer soluciones que impulsan la innovación y la eficiencia en tu organización. <strong>Nuestro equipo está constituido por profesionales con abundante experiencia en áreas clave del sector público</strong>, incluyendo la administración de la institución más grande de la provincia, la Dirección General de Escuelas (DGE). Esta trayectoria nos brinda una perspectiva única para atender tanto al sector público como al privado.</p>
                            </header>
                            <ul class="icons major">
                                <li><span class="icon solid fa-chart-line major style1"><span class="label">Análisis</span></span></li>
                                <li><span class="icon solid fa-brain major style2"><span class="label">IA</span></span></li>
                                <li><span class="icon solid fa-cogs major style3"><span class="label">Automatización</span></span></li>
                            </ul>
                        </div>
                    </section>

                <!-- Data Visualization -->
                    <section id="data-visualization-section" class="wrapper style3" data-aos="fade-up">
                        <div class="inner">
                            <header class="major">
                                <h2>Comparativa de Beneficios: IA, BI y BI + IA</h2>
                                <p>Descubre cómo nuestras soluciones potencian diferentes aspectos clave en tu organización.</p>
                            </header>
                            <div id="d3-graph-container"></div> <!-- Aquí irá el gráfico -->
                            <p>Este radar chart muestra la comparación de beneficios al implementar IA, BI y la convergencia de ambas tecnologías (BI + IA).</p>
                            <p><small>Fuente: Investigación interna de GOVIA INTELLIGENCE (2023).</small></p>
                        </div>
                    </section>

                <!-- ... [El resto del contenido permanece igual] ... -->

            </div>

        <!-- Scripts -->
            <script src="assets/js/jquery.min.js"></script>
            <script src="assets/js/jquery.scrollex.min.js"></script>
            <script src="assets/js/jquery.scrolly.min.js"></script>
            <script src="assets/js/browser.min.js"></script>
            <script src="assets/js/breakpoints.min.js"></script>
            <script src="assets/js/util.js"></script>
            <script src="assets/js/main.js"></script>

            <!-- Initialize AOS -->
            <script>
                AOS.init({
                    duration: 1000,
                });
            </script>

            <!-- Particles.js Configuration -->
            <script>
                particlesJS('particles-js',
                {
                    "particles": {
                        "number": {
                            "value": 80,
                            "density": {
                                "enable": true,
                                "value_area": 800
                            }
                        },
                        "color": {
                            "value": "#ffffff"
                        },
                        "shape": {
                            "type": "circle",
                            "stroke": {
                                "width": 0,
                                "color": "#000000"
                            },
                            "polygon": {
                                "nb_sides": 5
                            },
                            "image": {
                                "src": "img/github.svg",
                                "width": 100,
                                "height": 100
                            }
                        },
                        "opacity": {
                            "value": 0.5,
                            "random": false,
                            "anim": {
                                "enable": false,
                                "speed": 1,
                                "opacity_min": 0.1,
                                "sync": false
                            }
                        },
                        "size": {
                            "value": 3,
                            "random": true,
                            "anim": {
                                "enable": false,
                                "speed": 40,
                                "size_min": 0.1,
                                "sync": false
                            }
                        },
                        "line_linked": {
                            "enable": true,
                            "distance": 150,
                            "color": "#ffffff",
                            "opacity": 0.4,
                            "width": 1
                        },
                        "move": {
                            "enable": true,
                            "speed": 6,
                            "direction": "none",
                            "random": false,
                            "straight": false,
                            "out_mode": "out",
                            "attract": {
                                "enable": false,
                                "rotateX": 600,
                                "rotateY": 1200
                            }
                        }
                    },
                    "interactivity": {
                        "detect_on": "canvas",
                        "events": {
                            "onhover": {
                                "enable": true,
                                "mode": "repulse"
                            },
                            "onclick": {
                                "enable": true,
                                "mode": "push"
                            },
                            "resize": true
                        },
                        "modes": {
                            "grab": {
                                "distance": 400,
                                "line_linked": {
                                    "opacity": 1
                                }
                            },
                            "bubble": {
                                "distance": 400,
                                "size": 40,
                                "duration": 2,
                                "opacity": 8,
                                "speed": 3
                            },
                            "repulse": {
                                "distance": 200
                            },
                            "push": {
                                "particles_nb": 4
                            },
                            "remove": {
                                "particles_nb": 2
                            }
                        }
                    },
                    "retina_detect": true
                });
            </script>

            <!-- D3.js Radar Chart Script -->
            <script>
                // Datos para el Radar Chart
                const data = [
                    {
                        name: "IA",
                        axes: [
                            { axis: "Mejora de Decisiones", value: 70 },
                            { axis: "Eficiencia Operativa", value: 80 },
                            { axis: "Innovación", value: 90 },
                            { axis: "Automatización", value: 85 },
                            { axis: "Análisis Predictivo", value: 85 }
                        ]
                    },
                    {
                        name: "BI",
                        axes: [
                            { axis: "Mejora de Decisiones", value: 60 },
                            { axis: "Eficiencia Operativa", value: 65 },
                            { axis: "Innovación", value: 50 },
                            { axis: "Automatización", value: 40 },
                            { axis: "Análisis Predictivo", value: 65 }
                        ]
                    },
                    {
                        name: "BI + IA",
                        axes: [
                            { axis: "Mejora de Decisiones", value: 90 },
                            { axis: "Eficiencia Operativa", value: 95 },
                            { axis: "Innovación", value: 100 },
                            { axis: "Automatización", value: 95 },
                            { axis: "Análisis Predictivo", value: 90 }
                        ]
                    }
                ];

                const width = 550;
                const height = 550;
                const margin = { top: 50, right: 50, bottom: 50, left: 100 }; // Ajuste del margen izquierdo para la leyenda

                const radarChartOptions = {
                    w: width - margin.left - margin.right,
                    h: height - margin.top - margin.bottom,
                    margin: margin,
                    maxValue: 100,
                    levels: 5,
                    roundStrokes: true,
                    color: d3.scaleOrdinal().range(["#EDC951", "#CC333F", "#00A0B0"]),
                    format: '.0f',
                    legend: { title: 'Categorías', translateX: -margin.left + 1, translateY: -20 } // Configuración de la leyenda
                };

                // Llamar a la función para dibujar el Radar Chart
                RadarChart("#d3-graph-container", data, radarChartOptions);

                // Función para dibujar el Radar Chart
                function RadarChart(id, data, options) {
                    const cfg = {
                        w: 600,				//Width of the circle
                        h: 600,				//Height of the circle
                        margin: { top: 20, right: 20, bottom: 20, left: 20 }, //The margins around the circle
                        levels: 3,				//How many levels or inner circles should there be drawn
                        maxValue: 0, 			//What is the value that the biggest circle will represent
                        labelFactor: 1.1, 	//How much farther than the radius of the outer circle should the labels be placed
                        wrapWidth: 80, 		//The number of pixels after which a label needs to be given a new line
                        opacityArea: 0.35, 	//The opacity of the area of the blob
                        dotRadius: 3, 			//The size of the colored circles of each blob
                        opacityCircles: 0.1, 	//The opacity of the circles of each blob
                        strokeWidth: 2, 		//The width of the stroke around each blob
                        roundStrokes: false,	//If true the area and stroke will follow a round path (cardinal-closed)
                        color: d3.scaleOrdinal(d3.schemeCategory10),	//Color function
                        format: '.0%',
                        unit: '',
                        legend: false
                    };

                    // Overwrite default config with user options
                    if (typeof options !== 'undefined') {
                        for (let i in options) {
                            if (typeof options[i] !== 'undefined') {
                                cfg[i] = options[i];
                            }
                        }
                    }

                    // If the supplied maxValue is smaller than the actual one, replace by the max in the data
                    let maxValue = Math.max(cfg.maxValue, d3.max(data, function(i) {
                        return d3.max(i.axes.map(function(o) { return o.value; }));
                    }));

                    const allAxis = data[0].axes.map(function(i, j) { return i.axis; });
                    const total = allAxis.length;
                    const radius = Math.min(cfg.w / 2, cfg.h / 2);
                    const Format = d3.format(cfg.format);
                    const angleSlice = Math.PI * 2 / total;

                    // Remove whatever chart with the same id/class was present before
                    d3.select(id).select("svg").remove();

                    // Initiate the radar chart SVG
                    const svg = d3.select(id).append("svg")
                        .attr("width", cfg.w + cfg.margin.left + cfg.margin.right)
                        .attr("height", cfg.h + cfg.margin.top + cfg.margin.bottom)
                        .attr("class", "radar");

                    // Append a g element
                    const g = svg.append("g")
                        .attr("transform", "translate(" + (cfg.w / 2 + cfg.margin.left) + "," + (cfg.h / 2 + cfg.margin.top) + ")");

                    // Glow filter
                    const filter = g.append('defs').append('filter').attr('id', 'glow'),
                        feGaussianBlur = filter.append('feGaussianBlur').attr('stdDeviation', '2.5').attr('result', 'coloredBlur'),
                        feMerge = filter.append('feMerge'),
                        feMergeNode_1 = feMerge.append('feMergeNode').attr('in', 'coloredBlur'),
                        feMergeNode_2 = feMerge.append('feMergeNode').attr('in', 'SourceGraphic');

                    // Circular grid
                    const axisGrid = g.append("g").attr("class", "axisWrapper");

                    // Draw the background circles
                    axisGrid.selectAll(".levels")
                        .data(d3.range(1, (cfg.levels + 1)).reverse())
                        .enter()
                        .append("circle")
                        .attr("class", "gridCircle")
                        .attr("r", function(d) { return radius / cfg.levels * d; })
                        .style("fill", "#CDCDCD")
                        .style("stroke", "#CDCDCD")
                        .style("fill-opacity", cfg.opacityCircles)
                        .style("filter", "url(#glow)");

                    // Text indicating at what % each level is
                    axisGrid.selectAll(".axisLabel")
                        .data(d3.range(1, (cfg.levels + 1)).reverse())
                        .enter().append("text")
                        .attr("class", "axisLabel")
                        .attr("x", 4)
                        .attr("y", function(d) { return -d * radius / cfg.levels; })
                        .attr("dy", "0.4em")
                        .style("font-size", "10px")
                        .attr("fill", "#737373")
                        .text(function(d) { return Format(maxValue * d / cfg.levels / 100); });

                    // Scale for the radius
                    const rScale = d3.scaleLinear()
                        .range([0, radius])
                        .domain([0, maxValue]);

                    // Draw the axes
                    const axis = axisGrid.selectAll(".axis")
                        .data(allAxis)
                        .enter()
                        .append("g")
                        .attr("class", "axis");

                    // Append the lines
                    axis.append("line")
                        .attr("x1", 0)
                        .attr("y1", 0)
                        .attr("x2", function(d, i) { return rScale(maxValue * 1.1) * Math.cos(angleSlice * i - Math.PI / 2); })
                        .attr("y2", function(d, i) { return rScale(maxValue * 1.1) * Math.sin(angleSlice * i - Math.PI / 2); })
                        .attr("class", "line")
                        .style("stroke", "white")
                        .style("stroke-width", "2px");

                    // Append the labels
                    axis.append("text")
                        .attr("class", "legend")
                        .style("font-size", "11px")
                        .attr("text-anchor", "middle")
                        .attr("dy", "0.35em")
                        .attr("x", function(d, i) { return rScale(maxValue * cfg.labelFactor) * Math.cos(angleSlice * i - Math.PI / 2); })
                        .attr("y", function(d, i) { return rScale(maxValue * cfg.labelFactor) * Math.sin(angleSlice * i - Math.PI / 2); })
                        .text(function(d) { return d; })
                        .call(wrap, cfg.wrapWidth);

                    // Radar chart blobs
                    const radarLine = d3.lineRadial()
                        .curve(d3.curveLinearClosed)
                        .radius(function(d) { return rScale(d.value); })
                        .angle(function(d, i) { return i * angleSlice; });

                    if (cfg.roundStrokes) {
                        radarLine.curve(d3.curveCardinalClosed);
                    }

                    // Create a wrapper for the blobs
                    const blobWrapper = g.selectAll(".radarWrapper")
                        .data(data)
                        .enter().append("g")
                        .attr("class", "radarWrapper");

                    // Append the backgrounds
                    blobWrapper
                        .append("path")
                        .attr("class", "radarArea")
                        .attr("d", function(d) { return radarLine(d.axes); })
                        .style("fill", function(d, i) { return cfg.color(i); })
                        .style("fill-opacity", cfg.opacityArea)
                        .on('mouseover', function(event, d) {
                            // Dim all blobs
                            d3.selectAll(".radarArea")
                                .transition().duration(200)
                                .style("fill-opacity", 0.1);
                            // Bring back the hovered over blob
                            d3.select(this)
                                .transition().duration(200)
                                .style("fill-opacity", 0.7);
                        })
                        .on('mouseout', function() {
                            // Bring back all blobs
                            d3.selectAll(".radarArea")
                                .transition().duration(200)
                                .style("fill-opacity", cfg.opacityArea);
                        });

                    // Create the outlines
                    blobWrapper.append("path")
                        .attr("class", "radarStroke")
                        .attr("d", function(d) { return radarLine(d.axes); })
                        .style("stroke-width", cfg.strokeWidth + "px")
                        .style("stroke", function(d, i) { return cfg.color(i); })
                        .style("fill", "none")
                        .style("filter", "url(#glow)");

                    // Append the circles
                    blobWrapper.selectAll(".radarCircle")
                        .data(function(d) { return d.axes; })
                        .enter().append("circle")
                        .attr("class", "radarCircle")
                        .attr("r", cfg.dotRadius)
                        .attr("cx", function(d, i) { return rScale(d.value) * Math.cos(angleSlice * i - Math.PI / 2); })
                        .attr("cy", function(d, i) { return rScale(d.value) * Math.sin(angleSlice * i - Math.PI / 2); })
                        .style("fill", function(d) {
                            const parentData = d3.select(this.parentNode).datum();
                            return cfg.color(data.indexOf(parentData));
                        })
                        .style("fill-opacity", 0.8);

                    // Leyenda
                    if (cfg.legend !== false && typeof cfg.legend === "object") {
                        const legendZone = svg.append('g');
                        const names = data.map(el => el.name);
                        if (cfg.legend.title) {
                            legendZone.append("text")
                                .attr("class", "title")
                                .attr('transform', `translate(${cfg.legend.translateX},${cfg.legend.translateY})`)
                                .attr("x", cfg.w - 70)
                                .attr("y", 10)
                                .attr("font-size", "12px")
                                .attr("fill", "#404040")
                                .text(cfg.legend.title);
                        }
                        const legend = legendZone.append("g")
                            .attr("class", "legend")
                            .attr("height", 100)
                            .attr("width", 200)
                            .attr('transform', `translate(${cfg.legend.translateX},${cfg.legend.translateY + 20})`);
                        // Create rectangles markers
                        legend.selectAll('rect')
                            .data(names)
                            .enter()
                            .append("rect")
                            .attr("x", cfg.w - 110)
                            .attr("y", function(d, i) { return i * 20; })
                            .attr("width", 10)
                            .attr("height", 10)
                            .style("fill", function(d, i) { return cfg.color(i); });
                        // Create labels
                        legend.selectAll('text')
                            .data(names)
                            .enter()
                            .append("text")
                            .attr("x", cfg.w - 95)
                            .attr("y", function(d, i) { return i * 20 + 9; })
                            .attr("font-size", "11px")
                            .attr("fill", "#737373")
                            .text(function(d) { return d; });
                    }

                    // Helper Function to wrap SVG text
                    function wrap(text, width) {
                        text.each(function() {
                            let text = d3.select(this),
                                words = text.text().split(/\s+/).reverse(),
                                word,
                                line = [],
                                lineNumber = 0,
                                lineHeight = 1.4, // ems
                                y = text.attr("y"),
                                x = text.attr("x"),
                                dy = parseFloat(text.attr("dy")),
                                tspan = text.text(null)
                                    .append("tspan")
                                    .attr("x", x)
                                    .attr("y", y)
                                    .attr("dy", dy + "em");

                            while (word = words.pop()) {
                                line.push(word);
                                tspan.text(line.join(" "));
                                if (tspan.node().getComputedTextLength() > width) {
                                    line.pop();
                                    tspan.text(line.join(" "));
                                    line = [word];
                                    tspan = text.append("tspan")
                                        .attr("x", x)
                                        .attr("y", y)
                                        .attr("dy", ++lineNumber * lineHeight + dy + "em")
                                        .text(word);
                                }
                            }
                        });
                    }
                }
            </script>

            <!-- ... [Otros scripts como Portfolio, Map, Contact Form, etc.] ... -->

    </body>
</html>
